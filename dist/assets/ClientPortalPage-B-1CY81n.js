import{c as C,b as x,u as H,i as R,k as T,r as y,j as e,l as F,U as D,C as E,V as b}from"./index-9HQOELwQ.js";import{S as U}from"./SEOHead-D3ckYtcr.js";import{C as g}from"./calendar-4tcweJgv.js";import{C as q}from"./credit-card-CN-os4am.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=C("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=C("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=C("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=C("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),j={async authenticateWithToken(r){try{if(!r)return console.error("No token provided for authentication"),null;const{data:s,error:a}=await x.from("clients").select("*").eq("portal_token",r).eq("portal_access",!0).maybeSingle();return a?(console.error("Error authenticating client with token:",a),null):s}catch(s){return console.error("Client portal authentication failed:",s),null}},async getClientPortalData(r){try{const{data:s,error:a}=await x.from("clients").select("*").eq("id",r).single();if(a)return console.error("Error fetching client data for portal:",a),null;const{data:i,error:o}=await x.from("bookings").select(`
          *,
          yacht:yachts(id, name)
        `).eq("client_id",r).order("session_date",{ascending:!1});if(o)return console.error("Error fetching client bookings for portal:",o),null;const l=new Date;l.setHours(0,0,0,0);const v=i.filter(c=>{const d=new Date(c.session_date);return d.setHours(0,0,0,0),d>=l}),m=i.filter(c=>{const d=new Date(c.session_date);return d.setHours(0,0,0,0),d<l}),p=i.reduce((c,d)=>d.payment_status==="paid"?c+d.amount:c,0);return{client:s,bookings:i||[],upcomingBookings:v||[],pastBookings:m||[],totalSpent:p}}catch(s){return console.error("Failed to get client portal data:",s),null}},async updateClientProfile(r,s){try{const a={name:s.name,phone:s.phone,language:s.language,location:s.location},{data:i,error:o}=await x.from("clients").update({...a,updated_at:new Date().toISOString()}).eq("id",r).select().single();return o?(console.error("Error updating client profile:",o),null):i}catch(a){return console.error("Failed to update client profile:",a),null}},async getClientNotifications(r){try{const{data:s,error:a}=await x.from("notifications").select("*").eq("recipient_id",r).order("created_at",{ascending:!1}).limit(10);return a?(console.error("Error fetching client notifications:",a),[]):s||[]}catch(s){return console.error("Failed to get client notifications:",s),[]}},async markNotificationAsRead(r){try{const{error:s}=await x.from("notifications").update({status:"read",read_at:new Date().toISOString()}).eq("id",r);return s?(console.error("Error marking notification as read:",s),!1):!0}catch(s){return console.error("Failed to mark notification as read:",s),!1}},async requestBookingCancellation(r,s){try{const{error:a}=await x.from("bookings").update({status:"cancelled",notes:`Cancellation reason: ${s}`,updated_at:new Date().toISOString()}).eq("id",r);if(a)return console.error("Error cancelling booking:",a),!1;const{data:i,error:o}=await x.from("bookings").select("client_id, session_date, session_time").eq("id",r).single();if(o)return console.error("Error fetching booking details for cancellation:",o),!0;const{error:l}=await x.from("notifications").insert({type:"booking_cancelled",title:"Booking Cancelled",message:`Booking for ${new Date(i.session_date).toLocaleDateString()} at ${i.session_time} has been cancelled. Reason: ${s}`,recipient_id:null,channel:"internal",status:"pending",booking_id:r});return l&&console.error("Error creating cancellation notification:",l),!0}catch(a){return console.error("Failed to request booking cancellation:",a),!1}},async regeneratePortalToken(r){try{const s=`pt_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,{error:a}=await x.from("clients").update({portal_token:s,updated_at:new Date().toISOString()}).eq("id",r);return a?(console.error("Error regenerating portal token:",a),null):s}catch(s){return console.error("Failed to regenerate portal token:",s),null}}},Z=()=>{const{t:r}=H(),s=R(),a=T(),[i,o]=y.useState(!0),[l,v]=y.useState(null),[m,p]=y.useState("upcoming"),[c,d]=y.useState([]),[L,$]=y.useState(!1),f=new URLSearchParams(s.search).get("token");y.useEffect(()=>{(async()=>{if(!f){b.error("No access token provided"),a("/");return}o(!0);const u=await j.authenticateWithToken(f);if(!u){b.error("Invalid or expired access token"),a("/");return}$(!0);const N=await j.getClientPortalData(u.id);N?v(N):b.error("Failed to load client data");const h=await j.getClientNotifications(u.id);d(h),o(!1)})()},[f,a]);const O=async t=>{var h;const u=prompt("Please provide a reason for cancellation:");if(!u)return;if(await j.requestBookingCancellation(t,u)){if(b.success("Cancellation request submitted successfully"),(h=l==null?void 0:l.client)!=null&&h.id){const _=await j.getClientPortalData(l.client.id);_&&v(_)}}else b.error("Failed to submit cancellation request")},M=async t=>{await j.markNotificationAsRead(t)&&d(N=>N.map(h=>h.id===t?{...h,status:"read",read_at:new Date().toISOString()}:h))},A=()=>{a("/")};if(i)return e.jsx("div",{className:"pt-20 min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your portal..."})]})});if(!L||!l)return e.jsx("div",{className:"pt-20 min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[e.jsx(F,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have access to this portal or your session has expired."}),e.jsx("button",{onClick:()=>a("/"),className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors duration-300",children:"Return to Home"})]})});const{client:n,upcomingBookings:w,pastBookings:k}=l;return e.jsxs("div",{className:"pt-20 min-h-screen bg-gray-50",children:[e.jsx(U,{title:"Client Portal - Garda Racing Yacht Club",description:"Access your bookings, view your sailing history, and manage your account.",url:"/portal"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome, ",n.name]}),e.jsx("p",{className:"text-gray-600",children:"Client Portal - Manage your bookings and account"})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex items-center",children:[e.jsxs("div",{className:"mr-6",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Client since"}),e.jsx("div",{className:"font-medium",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("button",{onClick:A,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-300 flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Log Out"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-primary-600 text-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(D,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:n.name}),e.jsx("div",{className:"text-sm text-white/80",children:n.email})]})]})}),e.jsx("nav",{className:"p-4",children:e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>p("upcoming"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${m==="upcoming"?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx("span",{children:"Upcoming Bookings"}),w.length>0&&e.jsx("span",{className:"ml-auto bg-primary-100 text-primary-600 px-2 py-1 rounded-full text-xs font-medium",children:w.length})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>p("history"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${m==="history"?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{children:"Booking History"}),k.length>0&&e.jsx("span",{className:"ml-auto bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs font-medium",children:k.length})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>p("profile"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${m==="profile"?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(D,{className:"h-5 w-5"}),e.jsx("span",{children:"My Profile"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>p("notifications"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${m==="notifications"?"bg-primary-50 text-primary-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(S,{className:"h-5 w-5"}),e.jsx("span",{children:"Notifications"}),c.filter(t=>t.status!=="read").length>0&&e.jsx("span",{className:"ml-auto bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-medium",children:c.filter(t=>t.status!=="read").length})]})})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Client Status"}),e.jsx("div",{className:"font-medium text-gray-900 capitalize",children:n.segment})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Bookings"}),e.jsx("div",{className:"font-medium text-gray-900",children:n.total_bookings||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Spent"}),e.jsxs("div",{className:"font-medium text-gray-900",children:["€",n.total_spent||0]})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[m==="upcoming"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Upcoming Bookings"}),w.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Bookings"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have any upcoming bookings at the moment."}),e.jsx("a",{href:"/booking",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors duration-300 inline-block",children:"Book a New Experience"})]}):e.jsx("div",{className:"space-y-6",children:w.map(t=>e.jsx("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(g,{className:"h-5 w-5 text-primary-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(t.session_date).toLocaleDateString()}),e.jsxs("span",{className:"text-gray-600",children:["at ",t.session_time]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(q,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["€",t.amount]})]})]}),t.yacht&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Yacht:"}),e.jsx("span",{className:"ml-2",children:t.yacht.name})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:`ml-2 capitalize ${t.status==="confirmed"?"text-green-600":t.status==="cancelled"?"text-red-600":"text-yellow-600"}`,children:t.status})]})]})]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col space-y-2",children:[t.status!=="cancelled"&&e.jsx("button",{onClick:()=>O(t.id),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Request Cancellation"}),e.jsxs("a",{href:`/booking-details?id=${t.id}&token=${f}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center",children:["View Details",e.jsx(B,{className:"h-4 w-4 ml-1"})]})]})]})},t.id))})]}),m==="history"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Booking History"}),k.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(E,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Booking History"}),e.jsx("p",{className:"text-gray-600",children:"You haven't completed any bookings yet."})]}):e.jsx("div",{className:"space-y-6",children:k.map(t=>e.jsx("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(g,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(t.session_date).toLocaleDateString()}),e.jsxs("span",{className:"text-gray-600",children:["at ",t.session_time]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(q,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Amount:"}),e.jsxs("span",{className:"ml-2 font-medium",children:["€",t.amount]})]})]}),t.yacht&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Yacht:"}),e.jsx("span",{className:"ml-2",children:t.yacht.name})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:`ml-2 capitalize ${t.status==="confirmed"?"text-green-600":t.status==="cancelled"?"text-red-600":"text-yellow-600"}`,children:t.status})]})]})]})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("a",{href:`/booking-details?id=${t.id}&token=${f}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center",children:["View Details",e.jsx(B,{className:"h-4 w-4 ml-1"})]})})]})},t.id))})]}),m==="profile"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"My Profile"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:n.name,readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:n.email,readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:n.phone||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Language"}),e.jsx("input",{type:"text",value:n.language||"English",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Since"}),e.jsx("input",{type:"text",value:new Date(n.created_at).toLocaleDateString(),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Status"}),e.jsx("input",{type:"text",value:n.segment||"Regular",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Bookings"}),e.jsx("input",{type:"text",value:n.total_bookings||0,readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Booking"}),e.jsx("input",{type:"text",value:n.last_booking?new Date(n.last_booking).toLocaleDateString():"N/A",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Need to update your information?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please contact our customer support team to update your personal information."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("a",{href:"mailto:info@gardaracing.com",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors duration-300 inline-flex items-center",children:[e.jsx(Mail,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Email Us"})]}),e.jsxs("a",{href:"tel:+393456789012",className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-300 inline-flex items-center",children:[e.jsx(Phone,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Call Us"})]})]})]})]})]}),m==="notifications"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Notifications"}),c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(S,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Notifications"}),e.jsx("p",{className:"text-gray-600",children:"You don't have any notifications at the moment."})]}):e.jsx("div",{className:"space-y-4",children:c.map(t=>e.jsx("div",{className:`border rounded-xl p-4 transition-colors duration-300 ${t.status==="read"?"border-gray-200 bg-white":"border-primary-200 bg-primary-50"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`p-2 rounded-full mr-4 ${t.type.includes("booking")?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:t.type.includes("booking")?e.jsx(g,{className:"h-5 w-5"}):e.jsx(S,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.title}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:t.message}),t.status!=="read"&&e.jsx("button",{onClick:()=>M(t.id),className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2",children:"Mark as read"})]})]})},t.id))})]})]})]})]})]})};export{Z as default};
