import{b as d,F as z,V as g,u as J,r as b,j as t,L as M,O as G,S as D,C as K,P as Q,e as X}from"./index-9HQOELwQ.js";import{u as Z,P as ee}from"./PhoneInput-CUDRmYNw.js";import{S as te}from"./SEOHead-D3ckYtcr.js";import{C as f}from"./check-circle-rFx1Ylnl.js";import{C as se}from"./calendar-4tcweJgv.js";import{U as re}from"./users-BoE42hMY.js";import{C as ae}from"./credit-card-CN-os4am.js";var m=[];for(var q=0;q<256;++q)m.push((q+256).toString(16).slice(1));function ie(e,s=0){return(m[e[s+0]]+m[e[s+1]]+m[e[s+2]]+m[e[s+3]]+"-"+m[e[s+4]]+m[e[s+5]]+"-"+m[e[s+6]]+m[e[s+7]]+"-"+m[e[s+8]]+m[e[s+9]]+"-"+m[e[s+10]]+m[e[s+11]]+m[e[s+12]]+m[e[s+13]]+m[e[s+14]]+m[e[s+15]]).toLowerCase()}var E,ne=new Uint8Array(16);function oe(){if(!E&&(E=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!E))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(ne)}var le=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const A={randomUUID:le};function ce(e,s,r){if(A.randomUUID&&!e)return A.randomUUID();e=e||{};var a=e.random||(e.rng||oe)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,ie(a)}const j={async createOrUpdateClient(e){try{console.log("Creating/updating client in CRM:",e);const{data:s,error:r}=await d.from("clients").select("*").eq("email",e.email).limit(1);if(r)throw console.error("Error finding client in CRM:",r),r;const a=s&&s.length>0?s[0]:null;if(a){const{data:i,error:n}=await d.from("clients").update({name:`${e.firstName} ${e.lastName}`,phone:e.phone,language:e.language||"en",lead_source:e.leadSource||"website",updated_at:new Date().toISOString()}).eq("id",a.id).select().single();if(n)throw console.error("Error updating client in CRM:",n),n;return console.log("Client updated in CRM:",i),i}else{const i=this.generatePortalToken(),{data:n,error:l}=await d.from("clients").insert({name:`${e.firstName} ${e.lastName}`,email:e.email,phone:e.phone,language:e.language||"en",segment:"new",total_bookings:0,total_spent:0,lead_source:e.leadSource||"website",portal_access:!0,portal_token:i}).select().single();if(l)throw console.error("Error creating client in CRM:",l),l;return console.log("New client created in CRM:",n),await this.logSyncOperation("clients","create",n.id),n}}catch(s){return console.error("CRM client creation/update failed:",s),await this.logError("createOrUpdateClient",s),null}},async createBooking(e){try{console.log("Creating booking in CRM:",e);const{data:s,error:r}=await d.from("bookings").insert({client_id:e.clientId,yacht_id:e.yachtId,session_date:e.sessionDate,session_time:e.sessionTime,status:"pending",payment_status:"pending",amount:e.amount,notes:e.specialRequests}).select().single();if(r)throw console.error("Error creating booking in CRM:",r),r;return console.log("Booking created in CRM:",s),await this.updateClientStats(e.clientId,e.amount),await this.logSyncOperation("bookings","create",s.id),await this.createBookingNotification(s.id,e.clientId),s}catch(s){return console.error("CRM booking creation failed:",s),await this.logError("createBooking",s),null}},async generateClientPortalAccess(e){try{const{data:s,error:r}=await d.from("clients").select("*").eq("id",e).single();if(r)throw console.error("Error fetching client for portal access:",r),r;const a=s.portal_token||this.generatePortalToken();if(!s.portal_access||!s.portal_token){const{error:l}=await d.from("clients").update({portal_access:!0,portal_token:a}).eq("id",e);if(l)throw console.error("Error updating client portal access:",l),l}const i=new Date;i.setDate(i.getDate()+30);const n=`${z}portal?token=${a}`;return{token:a,url:n,expiresAt:i}}catch(s){return console.error("Failed to generate client portal access:",s),await this.logError("generateClientPortalAccess",s),null}},async updateClientStats(e,s){try{const{data:r,error:a}=await d.from("clients").select("total_bookings, total_spent, segment").eq("id",e).single();if(a)throw console.error("Error fetching client for stats update:",a),a;const i=(r.total_bookings||0)+1,n=(r.total_spent||0)+s;let l=r.segment||"new";i>=5||n>=1e3?l="vip":i>=2&&(l="active");const{error:c}=await d.from("clients").update({total_bookings:i,total_spent:n,last_booking:new Date().toISOString(),segment:l,updated_at:new Date().toISOString()}).eq("id",e);if(c)throw console.error("Error updating client stats:",c),c;console.log("Client stats updated:",{clientId:e,totalBookings:i,totalSpent:n,segment:l})}catch(r){console.error("Failed to update client stats:",r),await this.logError("updateClientStats",r)}},async createBookingNotification(e,s){try{const{data:r,error:a}=await d.from("clients").select("email, name").eq("id",s).single();if(a)throw console.error("Error fetching client for notification:",a),a;const{error:i}=await d.from("notifications").insert({type:"booking_created",title:"New Booking Created",message:`A new booking has been created for ${r.name}`,recipient_id:s,recipient_email:r.email,channel:"email",status:"pending",booking_id:e});if(i)throw console.error("Error creating notification:",i),i;console.log("Booking notification created for:",{bookingId:e,clientId:s})}catch(r){console.error("Failed to create booking notification:",r),await this.logError("createBookingNotification",r)}},async logSyncOperation(e,s,r){try{await d.from("sync_logs").insert({table_name:e,operation:s,record_id:r,sync_status:"success",synced_at:new Date().toISOString()})}catch(a){console.error("Failed to log sync operation:",a)}},async logError(e,s){try{await d.from("error_logs").insert({action:e,error_message:s.message||String(s),error_stack:s.stack,context:{timestamp:new Date().toISOString()},user_agent:navigator.userAgent})}catch(r){console.error("Failed to log error:",r)}},generatePortalToken(){return ce()},validateClientData(e){const s=[];return(!e.firstName||e.firstName.trim()==="")&&s.push("First name is required"),(!e.lastName||e.lastName.trim()==="")&&s.push("Last name is required"),!e.email||e.email.trim()===""?s.push("Email is required"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||s.push("Email format is invalid"),(!e.phone||e.phone.trim()==="")&&s.push("Phone number is required"),s},validateBookingData(e){const s=[];if(e.clientId||s.push("Client ID is required"),!e.sessionDate)s.push("Session date is required");else{const r=new Date(e.sessionDate),a=new Date,i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())),n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()));i<n&&s.push("Session date cannot be in the past")}return e.sessionTime||s.push("Session time is required"),(e.participants<1||e.participants>8)&&s.push("Participants must be between 1 and 8"),e.amount<=0&&s.push("Amount must be greater than zero"),s}},F={async createBooking(e){var s,r;try{console.log("Creating booking with data:",e);const a=e.participants*199,i={firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,language:d.auth.getSession()&&((r=(s=(await d.auth.getSession()).data.session)==null?void 0:s.user.app_metadata)==null?void 0:r.language)||"en",leadSource:"website"},n=j.validateClientData(i);if(n.length>0)return n.forEach(x=>g.error(x)),null;const l=await j.createOrUpdateClient(i);if(!l)return g.error("Failed to create or update client in CRM. Please try again."),null;console.log("Client created/retrieved:",l);const c=await this.getAvailableYacht(e.bookingDate);console.log("Available yacht:",c);const N={clientId:l.id,sessionDate:e.bookingDate,sessionTime:e.timeSlot,participants:e.participants,amount:a,specialRequests:e.specialRequests,yachtId:c==null?void 0:c.id},k=j.validateBookingData(N);if(k.length>0)return k.forEach(x=>g.error(x)),null;const p=await j.createBooking(N);if(!p)return g.error("Failed to create booking in CRM. Please try again."),null;c&&await this.updateYachtStatus(c.id,"booked",e.bookingDate);const v=await j.generateClientPortalAccess(l.id);v&&console.log("Client portal access generated:",v);const C=await this.getBookingWithDetails(p.id);if(!C){const x={...p,client:l,yacht:c};return g.success("Booking created successfully! Check your email for confirmation."),x}return g.success("Booking created successfully! Check your email for confirmation."),C}catch(a){return console.error("Error in createBooking:",a),g.error("An unexpected error occurred. Please try again."),null}},async getAvailableYacht(e){try{const{data:s,error:r}=await d.from("yachts").select("id, name").eq("status","available").limit(1);return r?(console.log("No available yacht found or error:",r),null):s&&s.length>0?s[0]:null}catch(s){return console.error("Error getting available yacht:",s),null}},async updateYachtStatus(e,s,r){try{const a={status:s};r&&(a.next_booking=r);const{error:i}=await d.from("yachts").update(a).eq("id",e);i&&console.error("Error updating yacht status:",i)}catch(a){console.error("Error in updateYachtStatus:",a)}},async getBookingWithDetails(e){try{const{data:s,error:r}=await d.from("bookings").select(`
          *,
          client:clients(*),
          yacht:yachts(id, name)
        `).eq("id",e);return r?(console.error("Error fetching booking:",r),null):(s==null?void 0:s[0])||null}catch(s){return console.error("Error in getBooking:",s),null}},async updateBookingStatus(e,s){try{const{error:r}=await d.from("bookings").update({status:s,updated_at:new Date().toISOString()}).eq("id",e);return r?(console.error("Error updating booking status:",r),!1):!0}catch(r){return console.error("Error in updateBookingStatus:",r),!1}},validateBookingForm(e){const s=[];e.firstName.trim()||s.push("First name is required"),e.lastName.trim()||s.push("Last name is required"),e.email.trim()||s.push("Email is required"),e.phone.trim()||s.push("Phone number is required"),e.bookingDate||s.push("Booking date is required"),e.timeSlot||s.push("Time slot is required"),(e.participants<1||e.participants>8)&&s.push("Participants must be between 1 and 8"),e.agreeTerms||s.push("You must agree to the terms and conditions");const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.email&&!r.test(e.email)&&s.push("Please enter a valid email address"),e.phone||s.push("Phone number is required");const a=new Date(e.bookingDate),i=new Date;return new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)),new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0)),a<i&&s.push("Booking date must be in the future"),s}},be=()=>{const{t:e}=J(),[s,r]=b.useState(1),[a,i]=b.useState(""),[n,l]=b.useState(""),[c,N]=b.useState(1),[k,p]=b.useState(!1),[v,C]=b.useState(!1),[x,$]=b.useState(null),{register:y,handleSubmit:I,watch:O,control:Y,formState:{errors:u}}=Z({defaultValues:{participants:1,agreeTerms:!1,agreeMarketing:!1}}),w=O(),V=[{time:"08:30",available:!0,price:199},{time:"09:00",available:!0,price:199},{time:"13:30",available:!1,price:199},{time:"14:00",available:!0,price:199}],_=c*199,P=Math.round(_*.3),L=()=>{s<3&&r(s+1)},H=()=>{s>1&&r(s-1)},B=()=>{switch(s){case 1:return a&&n&&c>0;case 2:return w.firstName&&w.lastName&&w.email&&w.phone&&w.agreeTerms;default:return!0}},W=async o=>{var T;p(!0);const S={...o,bookingDate:a,timeSlot:n,participants:c},R=F.validateBookingForm(S);if(R.length>0){R.forEach(h=>g.error(h)),p(!1);return}try{const h=await F.createBooking(S);if(h){if(g.success(e("booking.success")),(T=h.client)!=null&&T.id){const U=await j.generateClientPortalAccess(h.client.id);U&&$(U.url)}C(!0)}}catch(h){console.error("Booking error:",h),g.error(e("booking.error"))}finally{p(!1)}};return v?t.jsx("div",{className:"pt-20 min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(f,{className:"h-8 w-8 text-green-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:e("booking.success")}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Check your email for booking confirmation and details."}),x&&t.jsx("a",{href:x,target:"_blank",rel:"noopener norefferer",className:"block w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-300 mb-4",children:"Access Your Client Portal"}),t.jsx(M,{to:"/",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Return to Home"})]})}):t.jsxs("div",{className:"pt-20 min-h-screen bg-gray-50",children:[t.jsx(G,{position:"top-right"}),t.jsx(te,{title:e("booking.title"),description:e("booking.subtitle"),url:"/booking"}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 font-serif",children:e("booking.title")}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("booking.subtitle")})]}),t.jsx("div",{className:"max-w-3xl mx-auto mb-12",children:t.jsx("div",{className:"flex items-center justify-between",children:[{step:1,title:e("booking.steps.dateTime"),icon:se},{step:2,title:e("booking.steps.details"),icon:re},{step:3,title:e("booking.steps.payment"),icon:ae}].map((o,S)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full border-2 transition-colors duration-300 ${s>=o.step?"bg-primary-600 border-primary-600 text-white":"border-gray-300 text-gray-400"}`,children:s>o.step?t.jsx(f,{className:"h-6 w-6"}):t.jsx(o.icon,{className:"h-6 w-6"})}),t.jsxs("div",{className:"ml-4 hidden sm:block",children:[t.jsxs("p",{className:`font-semibold ${s>=o.step?"text-primary-600":"text-gray-400"}`,children:[e("common.step")," ",o.step]}),t.jsx("p",{className:`text-sm ${s>=o.step?"text-gray-900":"text-gray-500"}`,children:o.title})]}),S<2&&t.jsx("div",{className:`hidden sm:block w-24 h-1 mx-4 rounded ${s>o.step?"bg-primary-600":"bg-gray-300"}`})]},o.step))})}),t.jsx("form",{onSubmit:I(W),children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[s===1&&t.jsxs("div",{className:"space-y-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("booking.selectExperience")}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:e("booking.chooseDate")}),t.jsx("input",{type:"date",value:a,onChange:o=>i(o.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:e("booking.chooseTime")}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:V.map(o=>t.jsxs("button",{type:"button",onClick:()=>o.available&&l(o.time),disabled:!o.available,className:`p-4 rounded-lg border-2 transition-all duration-300 ${n===o.time?"border-primary-600 bg-primary-50 text-primary-600":o.available?"border-gray-300 hover:border-primary-300 hover:bg-primary-50":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[t.jsx("div",{className:"text-xl font-semibold",children:o.time}),t.jsx("div",{className:"text-sm",children:o.available?`€${o.price} ${e("booking.pricePerPerson")}`:e("booking.fullyBooked")})]},o.time))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:e("booking.participants")}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>N(Math.max(1,c-1)),className:"w-12 h-12 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors duration-300 flex items-center justify-center text-xl font-semibold",children:"-"}),t.jsx("span",{className:"text-2xl font-bold text-gray-900 min-w-[3rem] text-center",children:c}),t.jsx("button",{type:"button",onClick:()=>N(Math.min(8,c+1)),className:"w-12 h-12 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors duration-300 flex items-center justify-center text-xl font-semibold",children:"+"}),t.jsx("span",{className:"text-gray-600 ml-4",children:e("booking.maxParticipants")})]})]})]}),s===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("booking.yourDetails")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[e("booking.firstName")," *"]}),t.jsx("input",{type:"text",...y("firstName",{required:e("forms.required")}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u.firstName&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.firstName.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[e("booking.lastName")," *"]}),t.jsx("input",{type:"text",...y("lastName",{required:e("forms.required")}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u.lastName&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.lastName.message})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[e("booking.email")," *"]}),t.jsx("input",{type:"email",...y("email",{required:e("forms.required"),pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e("forms.invalidEmail")}}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),u.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),t.jsx("div",{children:t.jsx(ee,{name:"phone",control:Y,label:e("booking.phone"),error:u.phone,required:!0})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:e("booking.specialRequests")}),t.jsx("textarea",{...y("specialRequests"),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:e("booking.specialRequestsPlaceholder")})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("input",{type:"checkbox",...y("agreeTerms",{required:e("booking.agreeTermsRequired")}),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),t.jsxs("label",{className:"text-sm text-gray-700",children:[e("booking.agreeTerms")," ",t.jsx(M,{to:"/terms-of-service",className:"text-primary-600 hover:underline",children:e("navigation.terms")})," *"]})]}),u.agreeTerms&&t.jsx("p",{className:"text-sm text-red-600",children:u.agreeTerms.message}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("input",{type:"checkbox",...y("agreeMarketing"),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),t.jsx("label",{className:"text-sm text-gray-700",children:e("booking.agreeMarketing")})]})]})]}),s===3&&t.jsxs("div",{className:"space-y-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:e("booking.securePayment")}),t.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(D,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:e("booking.secureProcessing")}),t.jsx("p",{className:"text-blue-800 text-sm",children:e("booking.secureProcessingDescription")})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:e("booking.cardNumber")}),t.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:e("booking.expiryDate")}),t.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:e("booking.cvc")}),t.jsx("input",{type:"text",placeholder:"123",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:e("booking.cardholderName")}),t.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),t.jsx("div",{className:"bg-green-50 p-6 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(f,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:e("booking.whatHappensAfter")}),t.jsxs("ul",{className:"text-green-800 text-sm space-y-1",children:[t.jsxs("li",{children:["• ",e("booking.instantConfirmation")]}),t.jsxs("li",{children:["• ",e("booking.meetingPoint")]}),t.jsxs("li",{children:["• ",e("booking.weatherUpdates")]}),t.jsxs("li",{children:["• ",e("booking.photosDelivered")]}),t.jsx("li",{className:"font-semibold",children:"• Access to your personal client portal"})]})]})]})})]}),t.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:H,className:`px-6 py-3 rounded-lg font-semibold transition-colors duration-300 ${s===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,disabled:s===1,children:e("common.previous")}),s<3?t.jsx("button",{type:"button",onClick:L,disabled:!B(),className:`px-8 py-3 rounded-lg font-semibold transition-all duration-300 ${B()?"bg-primary-600 text-white hover:bg-primary-700 hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:e("common.next")}):t.jsx("button",{type:"submit",disabled:k,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),t.jsx("span",{children:e("booking.processing")})]}):t.jsx("span",{children:e("booking.completeBooking")})})]})]})}),t.jsxs("div",{className:"lg:col-span-1",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-32",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:e("booking.bookingSummary")}),t.jsxs("div",{className:"space-y-4 mb-6",children:[a&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:e("booking.date")}),t.jsx("span",{className:"font-semibold",children:new Date(a).toLocaleDateString()})]}),n&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:e("booking.time")}),t.jsx("span",{className:"font-semibold",children:n})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-gray-600",children:[e("booking.participants"),":"]}),t.jsx("span",{className:"font-semibold",children:c})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-gray-600",children:[e("booking.pricePerPerson"),":"]}),t.jsx("span",{className:"font-semibold",children:"€199"})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[t.jsxs("span",{children:[e("booking.total"),":"]}),t.jsxs("span",{className:"text-primary-600",children:["€",_]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e("booking.deposit",{deposit:P,remaining:_-P})})]}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(f,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:e("features.professionalSkipper.title")})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(f,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:e("booking.safetyEquipment")})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(f,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:e("booking.medalCertificate")})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(f,{className:"h-4 w-4 text-green-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:e("features.photosIncluded.title")})]})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[t.jsx(K,{className:"h-4 w-4"}),t.jsx("span",{children:e("booking.freeCancellation")})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx(D,{className:"h-4 w-4"}),t.jsx("span",{children:e("features.fullyInsured.title")})]})]})]}),t.jsxs("div",{className:"bg-primary-50 rounded-2xl p-6 mt-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:e("booking.needHelp")}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("a",{href:"tel:+393456789012",className:"flex items-center space-x-3 text-primary-600 hover:text-primary-700 transition-colors duration-300",children:[t.jsx(Q,{className:"h-4 w-4"}),t.jsx("span",{children:"+39 345 678 9012"})]}),t.jsxs("a",{href:"mailto:info@gardaracing.com",className:"flex items-center space-x-3 text-primary-600 hover:text-primary-700 transition-colors duration-300",children:[t.jsx(X,{className:"h-4 w-4"}),t.jsx("span",{children:"info@gardaracing.com"})]})]})]})]})]})}),t.jsx("div",{className:"max-w-4xl mx-auto mt-16",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("booking.cancellationPolicy")}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("li",{children:["• ",e("booking.freeCancellation48h")]}),t.jsxs("li",{children:["• ",e("booking.refund50percent")]}),t.jsxs("li",{children:["• ",e("booking.noRefund24h")]}),t.jsxs("li",{children:["• ",e("booking.weatherCancellation")]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("booking.whatToBring")}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("li",{children:["• ",e("booking.comfortableClothes")]}),t.jsxs("li",{children:["• ",e("booking.sunscreenHat")]}),t.jsxs("li",{children:["• ",e("booking.nonSlipShoes")]}),t.jsxs("li",{children:["• ",e("booking.cameraWaterproof")]})]})]})]})})]})]})};export{be as default};
